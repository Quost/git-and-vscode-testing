{"version":3,"sources":["src/app/pages/listar-centro-de-custo/listar-centro-de-custo.page.html","src/app/pages/listar-centro-de-custo/listar-centro-de-custo-routing.module.ts","src/app/pages/listar-centro-de-custo/listar-centro-de-custo.module.ts","src/app/pages/listar-centro-de-custo/listar-centro-de-custo.page.scss","src/app/pages/listar-centro-de-custo/listar-centro-de-custo.page.ts","src/app/services/database.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header class=\\\"border\\\">\\n\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button color=\\\"secondary\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title color=\\\"secondary\\\">UDESC</ion-title>\\n        <ion-icon size=\\\"large\\\" class=\\\"ion-padding-end\\\" slot=\\\"end\\\" src=\\\"/assets/icon/logomarca.svg\\\"></ion-icon>\\n    </ion-toolbar>\\n\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-grid class=\\\"justify-center\\\">\\n            <ion-text size=\\\"large\\\" class=\\\"ion-padding-start\\\" color=\\\"secondary\\\">Lista Centro de Custo</ion-text>\\n        </ion-grid>\\n    </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content padding>\\n\\n    <ion-segment [(ngModel)]=\\\"selectedView\\\">\\n        <ion-segment-button value=\\\"centroCusto\\\">\\n            <ion-label>Centro de Custo</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"produtos\\\">\\n            <ion-label>Produtos</ion-label>\\n        </ion-segment-button>\\n    </ion-segment>\\n\\n    <div [ngSwitch]=\\\"selectedView\\\">\\n        <div *ngSwitchCase=\\\"'centroCusto'\\\">\\n            <ion-item>\\n                <ion-label position=\\\"stacked\\\">Qual o nome do Centro de Custo?</ion-label>\\n                <ion-input [(ngModel)]=\\\"centroCusto.nome\\\" placeholder=\\\"Nome do Centro de Custo\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"stacked\\\">Qual o cpodigo de barras do Centro de Custo?</ion-label>\\n                <ion-input [(ngModel)]=\\\"centroCusto.codigoBarras\\\" placeholder=\\\"CÃ³digo lido...\\\"></ion-input>\\n            </ion-item>\\n            <ion-button expand=\\\"block\\\" (click)=\\\"addCentroCusto()\\\">Adicionar Centro de Custo</ion-button>\\n\\n            <ion-list>\\n                <ion-item button *ngFor=\\\"let cc of centroCusto\\\" [routerLink]=\\\"['/', 'centroCusto', cc.id]\\\">\\n                    <ion-label>\\n                        <h2>{{ cc.nome }}</h2>\\n                        <p>{{ cc.codigoBarras }}</p>\\n                    </ion-label>\\n                </ion-item>\\n            </ion-list>\\n        </div>\\n\\n        <div *ngSwitchCase=\\\"'produtos'\\\">\\n            <ion-item>\\n                <ion-label position=\\\"stacked\\\">Nome do Produto</ion-label>\\n                <ion-input [(ngModel)]=\\\"produto.nome\\\" placeholder=\\\"Nome\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"stacked\\\">Centro de Custo Pertencente:</ion-label>\\n                <ion-select [(ngModel)]=\\\"produto.centroCusto\\\">\\n                    <ion-select-option *ngFor=\\\"let cc of centroCusto\\\" [value]=\\\"cc.id\\\">{{ cc.nome }}</ion-select-option>\\n                </ion-select>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label position=\\\"stacked\\\">Qual o cpodigo de barras do Produto?</ion-label>\\n                <ion-input [(ngModel)]=\\\"produto.codigoBarras\\\" placeholder=\\\"CÃ³digo lido...\\\"></ion-input>\\n            </ion-item>\\n            <ion-button expand=\\\"block\\\" (click)=\\\"addProduto()\\\">Adicionar Produto</ion-button>\\n\\n            <ion-list>\\n                <ion-item *ngFor=\\\"let prod of produtos | async\\\">\\n                    <ion-label>\\n                        <h2>{{ prod.nome }}</h2>\\n                        <p>Centro de Custo: {{ prod.centroCusto }}</p>\\n                        <p>CÃ³digo de Barras: {{ prod.codigoBarras }}</p>\\n                    </ion-label>\\n                </ion-item>\\n            </ion-list>\\n        </div>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListarCentroDeCustoPage } from './listar-centro-de-custo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListarCentroDeCustoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListarCentroDeCustoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListarCentroDeCustoPageRoutingModule } from './listar-centro-de-custo-routing.module';\n\nimport { ListarCentroDeCustoPage } from './listar-centro-de-custo.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListarCentroDeCustoPageRoutingModule\n  ],\n  declarations: [ListarCentroDeCustoPage]\n})\nexport class ListarCentroDeCustoPageModule {}\n","export default \".border {\\n  border-bottom: solid 2px;\\n  border-color: #1a4a24;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21hdGhldXNxdW9zdC9Eb2N1bWVudG9zL05pVC9sZWl0b3ItdWRlc2Mvc3JjL2FwcC9wYWdlcy9saXN0YXItY2VudHJvLWRlLWN1c3RvL2xpc3Rhci1jZW50cm8tZGUtY3VzdG8ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9saXN0YXItY2VudHJvLWRlLWN1c3RvL2xpc3Rhci1jZW50cm8tZGUtY3VzdG8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7RUFDQSxxQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbGlzdGFyLWNlbnRyby1kZS1jdXN0by9saXN0YXItY2VudHJvLWRlLWN1c3RvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3JkZXIge1xuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweDtcbiAgICBib3JkZXItY29sb3I6ICMxYTRhMjQ7XG59IiwiLmJvcmRlciB7XG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDJweDtcbiAgYm9yZGVyLWNvbG9yOiAjMWE0YTI0O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\n\nimport { DatabaseService, Dev } from 'src/app/services/database.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-listar-centro-de-custo',\n  templateUrl: './listar-centro-de-custo.page.html',\n  styleUrls: ['./listar-centro-de-custo.page.scss'],\n})\nexport class ListarCentroDeCustoPage implements OnInit {\n\n  ccs: Dev[] = [];\n \n  produtos: Observable<any[]>;\n \n  centroCusto = {};\n  produto = {};\n \n  selectedView = 'ccs';\n \n  constructor(private db: DatabaseService) { }\n\n  ngOnInit() {\n    this.db.getDatabaseState().subscribe(rdy => {\n      if (rdy) {\n        this.db.getCcs().subscribe(ccs => {\n          this.centroCusto = ccs;\n        })\n        this.produtos = this.db.getProdutos();\n      }\n    });\n  }\n\n  addCentroCusto() { \n    this.db.addCentroCusto(this.centroCusto['nome'], this.centroCusto['codeRead'])\n    .then(_ => {\n      this.centroCusto = {};\n    });\n  }\n \n  addProduto() {\n    this.db.addProduto(this.produto['nome'], this.produto['codigoBarras'], this.produto['centroCusto'])\n    .then(_ => {\n      this.produto = {};\n    });\n  }\n\n  /* Como colocar dados JSON em um array no Ionic:\n   *\n   * var json;\n   *\n   * this.http.get('link/to/your/api').map(res => res.json()).subscribe(data => {\n   *   json = data;\n   * });\n   * \n   * e depois:\n   * \n   * and then parse it in this way:\n   * \n   * var qp = []\n   * for (var i of json.data) {\n   *    p.push(i.quantity_produced);\n   * }\n   * \n   * Bether solution:\n   * \n   * \n\ninterface Product {\n  id: number;\n  date: string;\n  // &c\n}\n\ninterface ProductsResponse {\n  data: Product[];\n}\n\nclass Provider {\n  constructor(private _http: HttpClient) {}\n  allProducts(): Observable<Product[]> {\n    return this._http.get<ProductsResponse>(url).pipe(\n      map(prsp => prsp.data));\n\n  onlyQuantities(): Observable<number[]> {\n    return this.allProducts().pipe(\n      map(prods => prods.map(prod => prod[\"quantity_produced\"])));\n  }\n}\n   * \n   * \n   * https://forum.ionicframework.com/t/how-to-get-json-data-in-array-in-ionic/98552\n   * \n   */\n}\n","import { Injectable } from '@angular/core';\n\nimport { Platform } from '@ionic/angular';\nimport { SQLitePorter } from '@ionic-native/sqlite-porter/ngx';\nimport { HttpClient } from '@angular/common/http';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nexport interface Dev {\n  id: number,\n  nome: string,\n  codeRead: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatabaseService {\n  private database: SQLiteObject;\n  private dbReady: BehaviorSubject<boolean> = new BehaviorSubject(false);\n \n  centroCusto = new BehaviorSubject([]);\n  produtos = new BehaviorSubject([]);\n\n  constructor(private plt: Platform, private sqlitePorter: SQLitePorter, private sqlite: SQLite, private http: HttpClient) { \n    this.plt.ready().then(() => {\n      this.sqlite.create({\n        name: 'patrimonio.db',\n        location: 'default'\n      })\n      .then((db: SQLiteObject) => {\n          this.database = db;\n          this.seedDatabase();\n      });\n    });\n  }\n\n  seedDatabase() {\n    this.http.get('/assets/arquivos/insert.sql', { responseType: 'text'})\n    .subscribe(sql => {\n      this.sqlitePorter.importSqlToDb(this.database, sql)\n        .then(_ => {\n          this.carregaCcs();\n          this.loadProdutos();\n          this.dbReady.next(true);\n        })\n        .catch(e => console.error(e));\n    });\n  }\n\n  getDatabaseState() {\n    return this.dbReady.asObservable();\n  }\n \n  getCcs(): Observable<Dev[]> {\n    return this.centroCusto.asObservable();\n  }\n \n  getProdutos(): Observable<any[]> {\n    return this.produtos.asObservable();\n  }\n\n  carregaCcs() {\n    return this.database.executeSql('SELECT * FROM centroCusto', []).then(data => {\n      let ccs: Dev[] = [];\n \n      if (data.rows.length > 0) {\n        for (var i = 0; i < data.rows.length; i++) {\n          let skills = [];\n          if (data.rows.item(i).skills != '') {\n            skills = JSON.parse(data.rows.item(i).skills);\n          }\n \n          ccs.push({ \n            id: data.rows.item(i).id,\n            nome: data.rows.item(i).nome,  \n            codeRead: data.rows.item(i).codigoBarras\n           });\n        }\n      }\n      this.centroCusto.next(ccs);\n    });\n  }\n \n  addCentroCusto(nome, codigoBarras) {\n    let data = [nome, codigoBarras];\n    return this.database.executeSql('INSERT INTO centroCusto (nome, codigoBarras) VALUES (?, ?)', data).then(data => {\n      this.carregaCcs();\n    });\n  }\n \n  getCentroCusto(id): Promise<Dev> {\n    return this.database.executeSql('SELECT * FROM centroCusto WHERE id = ?', [id]).then(data => { \n      return {\n        id: data.rows.item(0).id,\n        nome: data.rows.item(0).nome,  \n        codeRead: data.rows.item(0).codigoBarras\n      }\n    });\n  }\n \n  deleteCentroCusto(id) {\n    return this.database.executeSql('DELETE FROM centroCusto WHERE id = ?', [id]).then(_ => {\n      this.carregaCcs();\n      this.loadProdutos();\n    });\n  }\n \n  updateCentroCusto(dev: Dev) {\n    let data = [dev.nome, dev.codeRead];\n    return this.database.executeSql(`UPDATE centroCusto SET nome = ?, codigoBarras = ? WHERE id = ${dev.id}`, data).then(data => {\n      this.carregaCcs();\n    })\n  }\n \n  loadProdutos() {\n    let query = 'SELECT produto.nome, produto.codigoBarras, centroCusto.nome AS centroCusto FROM produto JOIN centroCusto ON centroCusto.id = produto.ccId';\n    return this.database.executeSql(query, []).then(data => {\n      let produtos = [];\n      if (data.rows.length > 0) {\n        for (var i = 0; i < data.rows.length; i++) {\n          produtos.push({ \n            nome: data.rows.item(i).name,\n            id: data.rows.item(i).id,\n            centroCusto: data.rows.item(i).centroCusto,\n            codigoBarras: data.rows.item(i).codigoBarras,\n           });\n        }\n      }\n      this.produtos.next(produtos);\n    });\n  }\n \n  addProduto(nome, centroCusto, codigoBarras) {\n    let data = [nome, centroCusto, codigoBarras];\n    return this.database.executeSql('INSERT INTO produto (nome, ccId, codigoBarras) VALUES (?, ?, ?)', data).then(data => {\n      this.loadProdutos();\n    });\n  }\n}\n\n"],"sourceRoot":"webpack:///","file":"pages-listar-centro-de-custo-listar-centro-de-custo-module-es5.js"}